#!/usr/bin/env bash

# -=-=--=-=--=-=--=-=--=-=--=-=--=-=--=-=--=-=--=-=--=-=-
# 脚本用途: 测试下载速度
# -=-=--=-=--=-=--=-=--=-=--=-=--=-=--=-=--=-=--=-=--=-=-

set -euo pipefail

# 定义颜色
BLUE='\033[0;34m'       # 蓝色
NC='\033[0m'            # 重置色

if ! command -v "wget" &> /dev/null; then
    printf "Error: Missing dependency: wget\n" >&2
    exit 1
fi

bytes=$((50 * 1024 * 1024))

printf "${BLUE}Cloudflare speed test...${NC}\n"

url="https://speed.cloudflare.com/__down?bytes=${bytes}"

wget -O /dev/null "${url}"

printf "Done.\n"
